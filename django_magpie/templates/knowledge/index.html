{% extends "base.html" %}
{% load i18n %}

{% block title %}{{ title }} | {% trans 'Magpie Site' %}{% endblock %}

{% block branding %}
<h1 id="site-name">{% trans 'Welcome to MAGPIE'  %}</h1>
{% endblock %}

{% block content %}
{% if question_list %}
<h2>Questions:</h2>
<form action="/" method="post">
{% csrf_token %}
<ol>
{% for question in question_list %}
    <li>{{ question.text}}
    <input type="radio" name='answer_{{question.id}}' value="y">Yes
    <input type="radio" name='answer_{{question.id}}' value="n">No
    </li>
{% endfor %}
</ol>
<input type="submit" value="Submit" />
</form>
{% else %}
    <p>There are no more questions!</p>
{% endif %}
{% if recommend_list %}
<h2>Recommmendations:</h2>
<ol>
{% for rec in recommend_list %}
    <li>{{ rec.text }}</li>
{% endfor %}
</ol>
{% endif %}

{% if reason_list %}
<h2>Reasons:</h2>
<ol class="treeview">
{% for reason in reason_list %}
    <li>{{ reason.text }}</li>
    <ol>
    {% for qa in reason.qa_list %}
        <li>{{ qa.0|add:" You answered - " }} {{ qa.1|yesno:"Yes,No" }} </li>
    {% endfor %}
    </ol>
{% endfor %}
</ol>
{% endif %}

{% if nonRecommendedList %}
<h2>Do not:</h2>
<ol>
{% for nr in nonRecommendedList %}
    <li>{{ nr.text }}</li>
{% endfor %}
</ol>
{% endif %}

{% if reasonsNonList %}
<h2>Reasons:</h2>
<ol class="treeview">
{% for reason in reasonsNonList %}
    <li>{{ reason.text }}</li>
    <ol>
    {% for qa in reason.qa_list %}
        <li>{{ qa.0|add:" You answered - " }} {{ qa.1|yesno:"Yes,No" }} </li>
    {% endfor %}
    </ol>
{% endfor %}
</ol>
{% endif %}

{% if unansweredList %}
<h2>Questions you did not answer (and their recommendations):</h2>
<ol class="treeview">
{% for reason in unansweredList %}
    <li>{{ reason.question }}</li>
    <ol>
    {% for rec in reason.recs %}
        <li>{{ rec }} </li>
    {% endfor %}
    </ol>
{% endfor %}
</ol>
{% endif %}

{% if otherRecsList %}
<h2>Other Recommendations:</h2>
<ol>
{% for otr in otherRecsList %}
    <li>{{ otr.text }}</li>
{% endfor %}
</ol>
{% endif %}

{% endblock %}
